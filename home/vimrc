" Copyright 2025 Samvel Khalatyan. All rights reserved.

" -- BASIC
syntax on
set number

" -- COLORS
set bg=dark
set colorcolumn=80
set cursorline

" -- SPACING
set tabstop=2
set softtabstop=2
set shiftwidth=2
set smartindent
set autoindent
set expandtab
au FileType go,make setlocal noexpandtab

" -- SEARCH
set hlsearch
set incsearch

" -- INVISIBLES
set listchars=eol:¬,extends:›,precedes:‹,space:░,tab:«–»,trail:•
nmap <leader>l <esc>:set list!<cr>

" -- SPELL CHECKER
au FileType markdown setlocal spell

" -- FORMAT BUFFER.
" Set format tool
au FileType go set equalprg=goimports
au FileType c,cpp set equalprg=clang-format
" Format entire buffer `=G` or selection `=` with shortcut `<leader>fc`
au FileType go,c,cpp map <leader>fc gg=G<c-o><c-o>
au FileType go,c,cpp imap <leader>fc <esc>gg=G<c-o><c-o>

" -- Plugin github.com:noahfrederick/vim-skeleton
let g:skeleton_replacements = {}
function! g:skeleton_replacements.YEAR()
  return strftime('%Y')
endfunction

let g:skeleton_replacements_go = {}
function! g:skeleton_replacements_go.PACKAGE()
  let l:package = expand('%:h:t')
  if expand('%:t') =~ '_test.go$'
    let l:package .= '_test'
  endif
  return l:package
endfunction
