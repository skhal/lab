# Copyright 2025 Samvel Khalatyan. All rights reserved.

repos:
- repo: https://github.com/pre-commit/pre-commit-hooks
  rev: v6.0.0
  hooks:
  # keep-sorted start
  - id: check-added-large-files
  - id: check-executables-have-shebangs
  - id: check-shebang-scripts-are-executable
  - id: check-yaml
  - id: end-of-file-fixer
  - id: trailing-whitespace
    # keep-sorted end
- repo: local
  hooks:
  # keep-sorted start
  - id: buildifier
    name: buildifier
    entry: buildifier
    language: system
    types_or: [bazel]
    args: ["-mode=fix", "-lint=fix"]
  - id: buildifier-lint
    name: buildifier-lint
    entry: buildifier
    language: system
    types_or: [bazel]
    args: ["-mode=diff", "-lint=warn"]
  - id: clang-format
    name: clang-format
    entry: clang-format -i
    language: system
    types_or: [c++, c]
    args: ["-style=file"]
  - id: keep-sorted
    name: keep-sorted
    entry: keep-sorted
    language: system
  - id: make-lint
    name: make-lint
    entry: make
    language: system
    types_or: [makefile]
    args: ["-N", "-f"]
    #  - id: markdown-format
    #    name: markdown-format
    #    entry: markdownfmt
    #    language: system
    #    types_or: [markdown]
    #    args: ["-w"]
  - id: no-binary
    name: no-binary
    entry: "Binaries are not allowed"
    language: fail
    types_or: [binary]
  - id: shell-format
    name: shell-format
    entry: shfmt
    language: system
    types_or: [shell]
    exclude_types: [csh, tcsh]
    args:
    - "--binary-next-line"
    - "--case-indent"
    - "--indent=2"
    - "--posix"
    - "--write"
  - id: shell-no-extension
    name: shell-no-extension
    entry: "Shell executable scripts should not have an extension"
    language: fail
    types: [shell, executable]
    files: "\\.sh$"
  - id: txtpb-format
    name: txtpb-format
    entry: txtpbfmt
    language: system
    types: [textproto]
  - id: yaml-format
    name: yaml-format
    entry: yamlfmt
    language: system
    types_or: [yaml]
  # keep-sorted end
