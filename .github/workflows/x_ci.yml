# Copyright 2025 Samvel Khalatyan. All rights reserved.
#
# Use of this source code is governed by a BSD-style
# license that can be found in the LICENSE file.

name: X CI

on:
  push:
    branches: ["main"]
    paths: ['x/**']
  schedule:
  # Every hour
  - cron: '0 * * * *'

jobs:
  bootstrap:
    uses: ./.github/workflows/ci_analyze.yml

  ci:
    needs: bootstrap
    if: |
      needs.bootstrap.outputs.go_changes == 'true' ||
        github.event_name == 'schedule'
    strategy:
      matrix:
        go-version: ['1.25.x']
    uses: ./.github/workflows/ci_go.yml
    with:
      package: ./x
      go-version: ${{ matrix.go-version }}
