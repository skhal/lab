# Copyright 2025 Samvel Khalatyan. All rights reserved.
#
# Use of this source code is governed by a BSD-style
# license that can be found in the LICENSE file.

name: Book CI

on:
  push:
    branches: ["main"]
    paths: ['book/**']

jobs:
  bootstrap:
    uses: ./.github/workflows/ci_analyze.yml
    outputs:
      go_changes: ${{ steps.go_changes.outputs.go_changes }}

  ci:
    needs: bootstrap
    if: needs.bootstrap.outputs.go_changes == 'true'
    uses: ./.github/workflows/ci_go.yml
    with:
      package: ./book
